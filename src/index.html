<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8"/>
    <title>Move Minder</title>

    <link rel="stylesheet" href="css/index.css"/>

    <script src="js/app.js" defer></script>
</head>
<body>


<div id="main-ui">
    <div style="display: flex; justify-content: space-between">
        <h1 class="green">üíñ My Work Station!</h1>
        <h1 style="color: green"> ‚è±Ô∏è <span id="demo">30m 00s</span></h1>
    </div>


    <div style="display: flex; justify-content: space-between;">

        <div>
            <p class="green">Change node version.</p>

            <div style="zoom: .8">

                <div id="node_list">

                </div>

            </div>

            <input type="file" id="quick-open">

            <div id="icons"></div>
            <img width="50" id="elcIcon">

        </div>

        <div style="display: flex; flex-direction: column; align-items: center">

            <div>
                <div style="width: 100%; display: flex; color: green; margin-bottom: 1rem">
                    <div class="time-modify-btn" id="time-decrease" style="border-radius: 30px 0 0 30px;"> -5 </div>
                    <div class="time-modify-btn" id="time-increase" style="border-radius: 0 30px 30px 0;"> +5 </div>
                </div>
                <!--<div style="zoom: .3; display: flex; justify-content: space-between">
                    <div class="fun-btn" style="background: #358535">
                        <div style="width: 4rem; font-size: 3rem; font-weight: bolder">
                            -5
                        </div>
                    </div>
                    <div class="fun-btn" style="background: green">
                        <div style="width: 4rem; font-size: 3rem; font-weight: bolder">
                            +5
                        </div>
                    </div>
                </div>-->

                <div id="focus-area" style="background-size: cover">
                    <circle-progress value="100" max="100" text-format="none" ></circle-progress>
                </div>
            </div>


            <div style="zoom: .4; display: flex">

                <div class="fun-btn" id="minimize-btn">
                    <div style="width: 4rem;">
                        <svg viewBox="202.637 140.287 70.144 68.347">
                            <rect x="218.226" y="170.866" width="39.568" height="15.392" style="fill: rgb(216, 216, 216); stroke: rgb(0, 0, 0);" rx="5.696" ry="5.696"></rect>
                        </svg>
                    </div>
                </div>

                <div class="bot√≥n" id="play">
                    <div class="fondo" x="0" y="0" width="200" height="200"></div>
                    <div class="icono" width="200" height="200">
                        <div class="parte izquierda" x="0" y="0" width="200" height="200" fill="#fff"></div>
                        <div class="parte derecha" x="0" y="0" width="200" height="200" fill="#fff"></div>
                    </div>
                    <div class="puntero"></div>
                </div>

                <div class="fun-btn" id="maximize-btn">
                    <div style="width: 3rem;">
                        <svg viewBox="156.475 163.07 129.496 126.498">
                            <rect x="181.354" y="168.465" width="100" height="100" stroke-width="5%" style="fill: rgb(255,255,255); stroke: green;" rx="25.18" ry="25.18" transform="matrix(0.9999989867210389, -0.0013380000600591302, 0, 1.0000009536743164, 1.4210854715202004e-14, 0.30955001711845753)"></rect>
                            <rect x="163.369" y="185.551" width="100" height="100" stroke-width="5%" style="fill: rgb(255,255,255); stroke: green;" rx="10.192" ry="10.192" transform="matrix(1, 0, 0, 1, 1.4210854715202004e-14, 3.552713678800501e-15)"></rect>
                        </svg>
                    </div>
                </div>

            </div>
        </div>

    </div>


    <div style="position: absolute; bottom: 3%; width: 100%">
        <div style="display: flex; justify-content: space-between;" id="btn-area">

            <div style="
        width: 4rem;
        cursor: pointer;
        color: #008cff;
        font-weight: bolder;
        display: none;
      " id="app-btn">
                <img style="height: 50px" src="./assets/imgs/laragon.png" alt="Run laragon app">
                <p style="text-transform: capitalize">Laragon</p>
            </div>

        </div>
    </div>
</div>

<script src="js/circle-progress.min.js" type="module"></script>

<script>

    //window.electron.preferences.quick_icon.app_name

    const btnArea = document.querySelector("#btn-area");
    const appBtn = document.querySelector("#app-btn");

    const iconList = (app_names) => {

        document.getElementById("icons").innerHTML = (()=>{
            let div = "";
            app_names.forEach((elm, index)=>{
                let filename = elm.replace(/^.*[\\/]/, '');
                //console.log(filename);


                div += `<span><img id="ufile-${index}" width="50" src="assets/imgs/icons/${filename}.png" alt=""></span>`;
            });

            //return div;
        })();



        app_names.forEach((elm, index) => {
            let filename = elm.replace(/^.*[\\/]/, '');
            //console.log(a, btnArea);
            const cloneAppBtn = appBtn.cloneNode(true);

            cloneAppBtn.style.display = 'block'

            cloneAppBtn.querySelector('img').src = `assets/imgs/icons/${filename}.png`
            cloneAppBtn.querySelector('p').innerText = filename
            cloneAppBtn.id = `file-${index}`

            btnArea.appendChild(cloneAppBtn);
        });

        app_names.forEach((elm, index)=>{
            document.getElementById("file-"+index).addEventListener('click', ()=>{
                window.electron.iconRun(elm);
            });
        });

    }

    iconList(window.electron.preferences.quick_icon.app_name);

    window.iconList = iconList;

    const appArray = [
        {
            name: 'laragon',
            logo: 'laragon.png',
            color: '#008cff',
        },
        {
            name: 'sourcetree',
            logo: 'sourcetree.png',
            color: '#003cff',
        },
        {
            name: 'phpstorm',
            logo: 'phpstorm.png',
            color: '#e600ff',
        },
        {
            name: 'clock',
            logo: 'clock.png',
            color: '#656565',
        },
        {
            name: 'note',
            logo: 'note.png',
            color: '#e1b800',
        },
        {
            name: 'AULA',
            logo: 'aula.jpeg',
            color: '#00f7ff',
        }
    ];



    //console.log({appBtn})



</script>

<script src="./js/btn.js"></script>
</body>
</html>
